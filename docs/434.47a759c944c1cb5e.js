"use strict";(self.webpackChunkck=self.webpackChunkck||[]).push([[434],{6434:(O,d,r)=>{r.r(d),r.d(d,{MenudetailModule:()=>S});var s=r(1076),t=r(9468);let g=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-recipe"]],decls:3,vars:0,consts:[[1,"row"],[1,"col-md-8"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"router-outlet"),t.qZA()())},dependencies:[s.lC]}),e})();var l=r(6037),u=r(8639),c=r(95),h=r(4198),m=r(3462),v=r(1015),f=r(5826),Z=r(7720),p=r(6814);const C=function(){return["/new"]};function x(e,o){1&e&&(t.TgZ(0,"div",14)(1,"button",15),t._uU(2,"Add New Recipe"),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("routerLink",t.DdM(1,C)))}const M=function(){return["edit"]};function A(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"div",16)(1,"div",10)(2,"a",17),t._uU(3,"Edit Recipe"),t.qZA(),t.TgZ(4,"button",18),t.NdJ("click",function(){t.CHM(i);const a=t.oxw();return t.KtG(a.onDeleteRecipe())}),t._uU(5,"Delete"),t.qZA()()()}2&e&&(t.xp6(2),t.Q6J("routerLink",t.DdM(1,M)))}let R=(()=>{class e{constructor(i,n,a,b,J,y){this.recipeService=i,this.route=n,this.router=a,this.ratingService=b,this.datastorageService=J,this.authService=y,this.ratingcontrol=new c.NI(0),this.ratedUsers=0,this.totalratings=0}ngOnInit(){this.route.params.subscribe(i=>{this.index=+i.id,this.selectedrecipe=this.recipeService.getRecipe(this.index),this.Admin=this.authService.isAuthor})}onDeleteRecipe(){this.recipeService.deleteRecipe(this.index),this.ratingService.deleteRating(this.index),this.datastorageService.storeRecipes(),this.datastorageService.storeRatings(),this.router.navigate(["/menu"])}getRate(){this.raters=this.ratingService.getRating(this.index),this.ratedUsers=this.raters.ratedUsers,this.totalratings=+this.raters.totalratings,this.ratedUsers++,this.totalratings+=this.ratingcontrol.value||0,this.finalrating=(this.totalratings/this.ratedUsers).toFixed(1),this.raters={finalrating:this.finalrating,ratedUsers:this.ratedUsers,totalratings:this.totalratings},this.ratingService.updateRating(this.index,this.raters),this.datastorageService.storeRatings()}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(h.j),t.Y36(s.gz),t.Y36(s.F0),t.Y36(m.V),t.Y36(v.Z),t.Y36(f.e))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-menudetail"]],decls:27,vars:12,consts:[[1,"container"],[1,"col-8","m-5"],[1,"row","mt-2","mb-5"],["class","col-lg-4",4,"ngIf"],[1,"row"],[1,"col-xs-12"],[1,"img-responsive",2,"max-height","350px",3,"src","alt"],[1,"row","mt-2"],["class","row mt-3",4,"ngIf"],[1,"row","mt-3","text-center"],[1,"col-lg-12"],["routerLink","/menu",1,"btn","btn-info"],[1,"col-4","detail"],[3,"max","formControl","click"],[1,"col-lg-4"],[1,"btn","btn-success",3,"routerLink"],[1,"row","mt-3"],[1,"btn","btn-info","m-2",2,"cursor","pointer",3,"routerLink"],[1,"btn","btn-danger",3,"click"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,x,3,2,"div",3),t.qZA(),t.TgZ(4,"div",4)(5,"div",5),t._UZ(6,"img",6),t.qZA()(),t.TgZ(7,"div",4)(8,"div",5)(9,"h1"),t._uU(10),t.qZA()()(),t.TgZ(11,"div",4)(12,"div",5),t._uU(13),t.qZA()(),t.TgZ(14,"div",7)(15,"div",5),t._uU(16),t.ALo(17,"currency"),t.qZA()(),t.YNc(18,A,6,2,"div",8),t.TgZ(19,"div",9)(20,"div",10)(21,"button",11),t._uU(22,"Back"),t.qZA()()()(),t.TgZ(23,"div",12)(24,"h2"),t._uU(25,"Provide your ratings:"),t.qZA(),t.TgZ(26,"ngb-rating",13),t.NdJ("click",function(){return n.getRate()}),t.qZA()()()),2&i&&(t.xp6(3),t.Q6J("ngIf",n.Admin),t.xp6(3),t.s9C("alt",n.selectedrecipe.name),t.Q6J("src",n.selectedrecipe.imagePath,t.LSH),t.xp6(4),t.Oqu(n.selectedrecipe.name),t.xp6(3),t.hij(" ",n.selectedrecipe.description," "),t.xp6(3),t.hij(" ",t.xi3(17,9,n.selectedrecipe.price,"INR")," "),t.xp6(2),t.Q6J("ngIf",n.Admin),t.xp6(8),t.Q6J("max",5)("formControl",n.ratingcontrol))},dependencies:[s.rH,c.JJ,c.oH,Z.OC,p.O5,p.H9],styles:["ngb-rating[_ngcontent-%COMP%]{margin-top:30px;color:#ffc107;font-size:50px}@media screen and (min-width:800px){.detail[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{left:65%;top:25%;position:absolute}ngb-rating[_ngcontent-%COMP%]{margin-top:30px;color:#ffc107;font-size:50px;left:65%;top:30%;position:absolute}}"]}),e})();var T=r(8081);const U=[{path:"",component:g,canActivateChild:[l.a1],resolve:{data:u.D},children:[{path:"",component:R},{path:"edit",component:T.G,canActivate:[l.wt]}]}];let S=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[s.Bz.forChild(U),s.Bz]}),e})()}}]);